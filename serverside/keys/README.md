# Files

* ```server.crt``` is the server's public key
* ```server.key``` is the server's private key
* ```ca.crt``` is the certificate authority's public key

# Generation

These files were generated following the process described here.

## Generate the Certificate Authority (CA)

The CA's private key, ```ca.key```, can be created with the following command:

```
openssl genrsa -des3 -out ca.key 1024
```

The CA's "certificate signing request", ```ca.csr```, can be created with the following command:

```
openssl req -new -key ca.key -out ca.csr
```

Finally, the CA's (self-signed) public key, ```ca.crt```, can be created with the following command:

```
openssl x509 -req -days 365 -in ca.csr -out ca.crt -signkey ca.key
```

## Generate the Server's Certificate

The server's private key, ```server.key``` can be created with the following command:

```
openssl genrsa -des3 -out server.key 1024
```

The Server's "certificate signing request", ```server.csr```, can be created with the following command:

```
openssl req -new -key server.key -out server.csr
```

Finally, the server's public key, ```server.crt```, can be created with the following command:

```
openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt
```

# Using the Certificate in Node.js

From all the generated files we just need the following three to create an HTTPS server in node.js:

1. ```server.crt```
2. ```server.key```
3. ```ca.crt```

(see also the relevant ```config``` keys in the file ```serverside/config.js```).

In production mode, probably, the three files above will be generated by a professional, trusted,
CA. In this case, those certificates will be automatically trusted by web browsers.

In case the server's private key is password-protected, to avoid having to type a password every
time node.js starts or to avoid including the passphrase into the server's secrets store, 
the encryption can be removed from the server's private key with the following command:

```
cp server.key server.key.org
openssl rsa -in server.key.org -out server.key
```
